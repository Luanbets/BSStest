local module = {}
local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- ==============================================================================
-- 1. DỮ LIỆU SHOP (COPY NỘI DUNG FILE TOOLDATA.TXT DÁN VÀO GIỮA 2 DẤU NGOẶC VUÔNG)
-- ==============================================================================
local RawJson = [[
{"Accessories":{"Belt Bag":{"Stats":[["Belt Bag",1]],"Name":"Belt Bag","Category":"Accessory/Bag","ID":"Belt Bag","Price":440000,"Ingredients":[["Pineapple",50],["SunflowerSeed",50],["Stinger",3]],"Description":"A convenient pouch designed for easy access.\n\n[Belt]\n+25,000 Capacity\n+20 Convert Amount\n+50% Loot Luck"},"Looker Guard":{"Stats":[["Looker Guard",1]],"Name":"Looker Guard","Category":"Accessory/Bag","ID":"Looker Guard","Price":300000,"Ingredients":[["SunflowerSeed",25]],"Description":"A left shoulder pad crafted by a Looker Bee.\n\n[Left Shoulder]\n+15,000 Capacity\n+1% Critical Chance\n+25% Critical Power"},"Jar":{"Stats":[["Jar",1]],"Name":"Jar","Category":"Accessory/Bag","ID":"Jar","Price":650,"Ingredients":[],"Description":"A durable plastic jar. Holds over twice as much as the Pouch!\n\n[Container]\n+750 Capacity"},"Demon Mask":{"Stats":[["Demon Mask",1]],"Name":"Demon Mask","Category":"Accessory/Bag","ID":"Demon Mask","Price":5000000000,"Ingredients":[["Stinger",500],["RedExtract",250],["Enzymes",150],["Glue",100],["InvigoratingVial",1]],"Description":"Embrace hate to take on the form of a Demon Bee. Become both extremely unpleasant and powerful.\n\n[Hat]\nx1.5 Red Pollen\n+25% Pollen\nx1.5 Capacity\nx1.5 Red Field Capacity\n+20% Instant Red Conversion\n+50% Instant Flame Conversion\nx1.25 Flame Pollen\n+25% Bee Attack\n+35% Defense\n+20% Bee Ability Rate\n+Passive: Ignite (Needs Fire Mask)\n+Passive: X-Flame"},"Coconut Canister":{"Stats":[["Coconut Canister",1]],"Name":"Coconut Canister","Category":"Accessory/Bag","ID":"Coconut Canister","Price":25000000000,"Ingredients":[["Coconut",250],["TropicalDrink",150],["RedExtract",150],["BlueExtract",150],["RefreshingVial",2]],"Description":"A back-mounted coconut that protects you during emergencies.\n\n[Container]\n+1,000,000 Capacity\nx1.25 Capacity\n+400% Convert Rate\nx1.5 Convert Rate At Hive\n+10% Instant Conversion\n+10% Instant White Conversion\n+100% White Pollen\n+Passive: Inspire Coconuts\n+Passive: Emergency Coconut Shield"},"Propeller Hat":{"Stats":[["Propeller Hat",1]],"Name":"Propeller Hat","Category":"Accessory/Bag","ID":"Propeller Hat","Price":2500000,"Ingredients":[["Gumdrops",25],["Pineapple",100],["MoonCharm",5]],"Description":"A playful hat that keeps the sun out of your eyes.\n\n[Hat]\n+15% Pollen\n+5% Bee Ability Rate\n+10% Defense\n+10 Jump Power"},"Pouch":{"Stats":[["Pouch",1]],"Name":"Pouch","Category":"Accessory/Bag","ID":"Pouch","Price":0,"Ingredients":[],"Description":"A small bag.\n\n[Container]\n+200 Capacity"},"Red Guard":{"Stats":[["Red Guard",1]],"Name":"Red Guard","Category":"Accessory/Bag","ID":"Red Guard","Price":750000,"Ingredients":[["Strawberry",50],["RoyalJelly",1],["Stinger",1]],"Description":"A durable pad worn on the left shoulder of Red Beekeepers.\n\n[Left Shoulder]\n+25,000 Capacity\n+15% Red Pollen\n+5% Defense\n+1 Red Bee Attack"},"Bubble Mask":{"Stats":[["Bubble Mask",1]],"Name":"Bubble Mask","Category":"Accessory/Bag","ID":"Bubble Mask","Price":100000000,"Ingredients":[["Blueberry",500],["BlueExtract",50],["Oil",25],["Glitter",15]],"Description":"Harness the power of the sea to enhance your Blue pollen gathering.\n\n[Hat]\nx1.5 Blue Pollen\nx1.5 Capacity\nx1.25 Blue Field Capacity\nx1.25 Bubble Pollen\n+30% Defense\n+15% Bee Ability Rate\n+Passive: Bubble Bombs"},"B.B.M. Mask":{"Stats":[["B.B.M. Mask",1]],"Name":"B.B.M. Mask","Category":"Accessory/Bag","ID":"B.B.M. Mask","Price":999999999999,"Ingredients":[],"Description":"A strange looking hat brought back from ROBLOX retirement.\n\n[Hat]\n+75,000 Capacity\n+25 Convert Amount\n+50% Honey From Tokens\n+1 Blue Bee Attack"},"Elite Blue Guard":{"Stats":[["Elite Blue Guard",1]],"Name":"Elite Blue Guard","Category":"Accessory/Bag","ID":"Elite Blue Guard","Price":5000000,"Ingredients":[["BlueExtract",3],["Blueberry",50],["RoyalJelly",5],["MoonCharm",15]],"Description":"A Blue Guard reserved for the most dedicated Blue Beekeepers.\n\n[Right Shoulder]\n+75,000 Capacity\n+25% Blue Pollen\n+7% Defense\n+50% Critical Power\n+1 Blue Bee Attack"},"Elite Red Guard":{"Stats":[["Elite Red Guard",1]],"Name":"Elite Red Guard","Category":"Accessory/Bag","ID":"Elite Red Guard","Price":5000000,"Ingredients":[["RedExtract",3],["Strawberry",50],["RoyalJelly",5],["Stinger",5]],"Description":"A Red Guard reserved for the most dedicated Red Beekeepers.\n\n[Left Shoulder]\n+75,000 Capacity\n+25% Red Pollen\n+7% Defense\n+5% Critical Chance\n+1 Red Bee Attack"},"Brave Guard":{"Stats":[["Brave Guard",1]],"Name":"Brave Guard","Category":"Accessory/Bag","ID":"Brave Guard","Price":300000,"Ingredients":[["Stinger",3]],"Description":"A right shoulder pad crafted by a Brave Bee.\n\n[Right Shoulder]\n+15,000 Capacity\n+5% White Pollen\n+1 Colorless Bee Attack"},"Elite Barrel":{"Stats":[["Elite Barrel",1]],"Name":"Elite Barrel","Category":"Accessory/Bag","ID":"Elite Barrel","Price":650000,"Ingredients":[],"Description":"The worlds most advanced barrel. Increases pollen from certain fields.\n\n[Container]\n+125,000 Capacity\n+70% Convert Rate"},"Honeycomb Belt":{"Stats":[["Honeycomb Belt",1]],"Name":"Honeycomb Belt","Category":"Accessory/Bag","ID":"Honeycomb Belt","Price":75000000,"Ingredients":[["Enzymes",50],["Glue",50],["Oil",25]],"Description":"A luxurious faux honeycomb you can wear as a belt to greatly enhance your pollen capacity.\n\n[Belt]\n+150,000 Capacity\n+25% Capacity\n+75 Convert Amount\n+100% Loot Luck\n+20% Buzz Bomb Pollen\n+50% Honey From Tokens\n+1 Colorless Bee Attack"},"Port-O-Hive":{"Stats":[["Port-O-Hive",1]],"Name":"Port-O-Hive","Category":"Accessory/Bag","ID":"Port-O-Hive","Price":1250000,"Ingredients":[],"Description":"A miniature hive you can wear on your back! Instantly converts some pollen to honey.\n\n[Container]\n+250,000 Capacity\n+100% Convert Rate\n+5% Instant Conversion"},"Diamond Mask":{"Stats":[["Diamond Mask",1]],"Name":"Diamond Mask","Category":"Accessory/Bag","ID":"Diamond Mask","Price":5000000000,"Ingredients":[["BlueExtract",250],["Oil",150],["Glitter",100],["Diamond",5],["ComfortingVial",1]],"Description":"Proudly show your extreme wealth to the world. Shine so brightly that others will complain.\n\n[Hat]\nx1.5 Blue Pollen\n+15% Instant Blue Conversion\n+25% Pollen\nx3 Capacity\nx1.5 Bubble Pollen\n+35% Defense\n+20% Bee Ability Rate\n+Passive: Bubble Bombs (Needs Bubble Mask)\n+Passive: Diamond Drain"},"Hiking Boots":{"Stats":[["Hiking Boots",1]],"Name":"Hiking Boots","Category":"Accessory/Bag","ID":"Hiking Boots","Price":2200000,"Ingredients":[["Blueberry",50],["Strawberry",50]],"Description":"A durable pair of boots helpful for traversing the mountain.\n\n[Boots]\n+1 Bee Attack\n+5 Player Movespeed\n+10 Jump Power\n+6 Movement Collection"},"Beekeeper's Mask":{"Stats":[["Beekeeper's Mask",1]],"Name":"Beekeeper's Mask","Category":"Accessory/Bag","ID":"Beekeeper's Mask","Price":20000000,"Ingredients":[["Enzymes",5],["Glue",3],["Glitter",1]],"Description":"A veiled hat only worn by real-deal beekeepers.\n\n[Hat]\n+20% Pollen\n+20% Bee Gather Pollen\n+10% Bee Ability Rate\n+25% Defense"},"Helmet":{"Stats":[["Helmet",1]],"Name":"Helmet","Category":"Accessory/Bag","ID":"Helmet","Price":30000,"Ingredients":[["Pineapple",5],["MoonCharm",1]],"Description":"A hard hat that grants bonus pollen and helps prevent head injuries.\n\n[Hat]\n+10% Pollen\n+25% Defense"},"Coconut Clogs":{"Stats":[["Coconut Clogs",1]],"Name":"Coconut Clogs","Category":"Accessory/Bag","ID":"Coconut Clogs","Price":10000000000,"Ingredients":[["Coconut",150],["TropicalDrink",50],["Glue",100],["Oil",100],["RefreshingVial",1]],"Description":"Kick around Coconuts with this pair of clunky kicks for a surge of speed.\n\n[Boots]\n+15% Pollen\nx1.15 Coconut Field Pollen\n+25% Honey From Tokens\n+2 Bee Attack\n+7 Player Movespeed\n+22 Jump Power\n+14 Movement Collection\n+Passive: Coconut Haste"},"Petal Belt":{"Stats":[["Petal Belt",1]],"Name":"Petal Belt","Category":"Accessory/Bag","ID":"Petal Belt","Price":15000000000,"Ingredients":[["SpiritPetal",1],["StarJelly",25],["Glitter",50],["Glue",100]],"Description":"Drape these petals about your waist to harness unlimited flower power.\n\n[Belt]\n+250,000 Capacity\n+50% Capacity\n+100 Convert Amount\n+101% Loot Luck\n+75% Honey From Tokens\n+30% Buzz Bomb Pollen\n+1 Colorless Bee Attack\n+Passive: Petal Storm"},"Porcelain Port-O-Hive":{"Stats":[["Porcelain Port-O-Hive",1]],"Name":"Porcelain Port-O-Hive","Category":"Accessory/Bag","ID":"Porcelain Port-O-Hive","Price":250000000,"Ingredients":[["Glitter",3],["SoftWax",3],["MoonCharm",10]],"Description":"A rare and precious Port-O-Hive that boosts white pollen.\n\n[Container]\n+600,000 Capacity\n+250% Convert Rate\nx1.25 Convert Rate At Hive\n+10% Instant Conversion\n+50% White Pollen"},"Coconut Belt":{"Stats":[["Coconut Belt",1]],"Name":"Coconut Belt","Category":"Accessory/Bag","ID":"Coconut Belt","Price":7500000000000,"Ingredients":[["Coconut",500],["TropicalDrink",1500],["PurplePotion",200],["HardWax",200],["RefreshingVial",3],["Turpentine",3]],"Description":"This cumberbund creates Combo Coconuts that can be juggled for massive boosts!\n\n[Belt]\n+350,000 Capacity\n+75% Capacity\n+120 Convert Amount\n+102% Loot Luck\n+100% Honey From Tokens\nx1.1 Coconut Field Pollen\n+10% Gifted Bee Pollen\n+1 Bee Attack\n+Passive: Petal Storm (Needs Petal Belt)\n+Passive: Combo Coconuts"},"Honey Mask":{"Stats":[["Honey Mask",1]],"Name":"Honey Mask","Category":"Accessory/Bag","ID":"Honey Mask","Price":100000000,"Ingredients":[["Treat",9999],["Oil",50],["Enzymes",25],["Gold",5]],"Description":"This handsome mask is guaranteed to bring satisfaction into your life.\n\n[Hat]\n+25% Pollen\n+25% Bee Gather Pollen\nx1.25 Capacity\n+50% Honey From Tokens\n+80 Convert Amount\n+30% Defense\n+15% Bee Ability Rate\n+Passive: Coin Scatter"},"Belt Pocket":{"Stats":[["Belt Pocket",1]],"Name":"Belt Pocket","Category":"Accessory/Bag","ID":"Belt Pocket","Price":14000,"Ingredients":[["SunflowerSeed",10]],"Description":"Attaches to your waist to expand the size of your container.\n\n[Belt]\n+5,000 Capacity\n+10 Convert Amount\n+25% Loot Luck"},"Bomber Guard":{"Stats":[["Bomber Guard",1]],"Name":"Bomber Guard","Category":"Accessory/Bag","ID":"Bomber Guard","Price":300000,"Ingredients":[["SunflowerSeed",25]],"Description":"A left shoulder pad crafted by a Bomber Bee.\n\n[Left Shoulder]\n+15,000 Capacity\n+5% White Pollen\n+15% Bomb Pollen"},"Mondo B.B.M. Mask":{"Stats":[["Mondo B.B.M. Mask",1]],"Name":"Mondo B.B.M. Mask","Category":"Accessory/Bag","ID":"Mondo B.B.M. Mask","Price":999999999999,"Ingredients":[],"Description":"A strange looking hat brought back from ROBLOX retirement.\n\n[Hat]\n+500,000 Capacity\n+10% Pollen\n+10% Bee Gather Pollen\n+50 Convert Amount\n+50% Honey From Tokens\n+1 Bee Attack"},"Red Port-O-Hive":{"Stats":[["Red Port-O-Hive",1]],"Name":"Red Port-O-Hive","Category":"Accessory/Bag","ID":"Red Port-O-Hive","Price":12500000,"Ingredients":[["RedExtract",2],["SoftWax",2]],"Description":"A Port-O-Hive dipped in shiney red paint.\n\n[Container]\n+400,000 Capacity\n+150% Convert Rate\n+10% Red Bee Convert Rate\n+10% Instant Red Conversion\n+10% Red Pollen"},"Hasty Guard":{"Stats":[["Hasty Guard",1]],"Name":"Hasty Guard","Category":"Accessory/Bag","ID":"Hasty Guard","Price":300000,"Ingredients":[["MoonCharm",5]],"Description":"A right shoulder pad crafted by a Hasty Bee.\n\n[Right Shoulder]\n+15,000 Capacity\n+1% Bee Movespeed\nx1.1 Player Movespeed"},"Backpack":{"Stats":[["Backpack",1]],"Name":"Backpack","Category":"Accessory/Bag","ID":"Backpack","Price":5500,"Ingredients":[],"Description":"A heavy-duty backpack.\n\n[Container]\n+3,500 Capacity"},"Basic Boots":{"Stats":[["Basic Boots",1]],"Name":"Basic Boots","Category":"Accessory/Bag","ID":"Basic Boots","Price":4400,"Ingredients":[["SunflowerSeed",3],["Blueberry",3]],"Description":"Collect pollen as you walk through flowers!\n\n[Boots]\n+4 Player Movespeed\n+2 Movement Collection"},"Gummy Mask":{"Stats":[["Gummy Mask",1]],"Name":"Gummy Mask","Category":"Accessory/Bag","ID":"Gummy Mask","Price":5000000000,"Ingredients":[["Glue",250],["Enzymes",100],["Oil",100],["Glitter",100],["SatisfyingVial",1]],"Description":"The official mask of a Gummy Soldier.\n\n[Hat]\n+75% Goo\n+10% Goo Conversion\nx1.25 White Pollen\n+25% Pollen\nx1.5 Capacity\nx1.5 White Field Capacity\n+30% Defense\n+20% Bee Ability Rate\n+Passive: Coin Scatter (Needs Honey Mask)\n+Passive: Gummy Morph"},"Cobalt Guard":{"Stats":[["Cobalt Guard",1]],"Name":"Cobalt Guard","Category":"Accessory/Bag","ID":"Cobalt Guard","Price":200000000,"Ingredients":[["BlueExtract",100],["Stinger",100],["Enzymes",50],["Glitter",25]],"Description":"A guard bestowed with the heroic power of Cobalt Bee - Defender of the Blue Bees.\n\n[Right Shoulder]\n+250,000 Capacity\n+50% Blue Pollen\n+20% Blue Bomb Pollen\n+10% Defense\n+100% Critical Power\n+3 Blue Bee Attack\n+Passive: Haste Pulser"},"Bucko Guard":{"Stats":[["Bucko Guard",1]],"Name":"Bucko Guard","Category":"Accessory/Bag","ID":"Bucko Guard","Price":30000000,"Ingredients":[["BlueExtract",10],["Blueberry",100],["Glue",5],["MoonCharm",75]],"Description":"A piece of armor forged by the leader of the Blue Bees!\n\n[Right Shoulder]\n+150,000 Capacity\n+35% Blue Pollen\n+10% Blue Bomb Pollen\n+10% Defense\n+75% Critical Power\n+2 Blue Bee Attack"},"Canister":{"Stats":[["Canister",1]],"Name":"Canister","Category":"Accessory/Bag","ID":"Canister","Price":22000,"Ingredients":[],"Description":"A high-tech container that improves conversion speed.\n\n[Container]\n+10,000 Capacity\n+30% Convert Rate"},"Riley Guard":{"Stats":[["Riley Guard",1]],"Name":"Riley Guard","Category":"Accessory/Bag","ID":"Riley Guard","Price":30000000,"Ingredients":[["RedExtract",10],["Strawberry",100],["Glue",5],["Stinger",25]],"Description":"A piece of armor forged by the leader of the Red Bees!\n\n[Left Shoulder]\n+150,000 Capacity\n+35% Red Pollen\n+10% Red Bomb Pollen\n+10% Defense\n+8% Critical Chance\n+2 Red Bee Attack"},"Blue Port-O-Hive":{"Stats":[["Blue Port-O-Hive",1]],"Name":"Blue Port-O-Hive","Category":"Accessory/Bag","ID":"Blue Port-O-Hive","Price":12500000,"Ingredients":[["BlueExtract",2],["SoftWax",2]],"Description":"A Port-O-Hive dipped in shiney blue paint.\n\n[Container]\n+400,000 Capacity\n+150% Convert Rate\n+10% Blue Bee Convert Rate\n+10% Instant Blue Conversion\n+10% Blue Pollen"},"Mega-Jug":{"Stats":[["Mega-Jug",1]],"Name":"Mega-Jug","Category":"Accessory/Bag","ID":"Mega-Jug","Price":50000,"Ingredients":[],"Description":"A humongous jug!\n\n[Container]\n+25,000 Capacity\n+40% Convert Rate"},"Crimson Guard":{"Stats":[["Crimson Guard",1]],"Name":"Crimson Guard","Category":"Accessory/Bag","ID":"Crimson Guard","Price":200000000,"Ingredients":[["RedExtract",100],["Stinger",100],["Oil",50],["Glitter",25]],"Description":"A guard bestowed with the heroic power of Crimson Bee - Defender of the Red Bees.\n\n[Left Shoulder]\n+250,000 Capacity\n+50% Red Pollen\n+20% Red Bomb Pollen\n+10% Defense\n+10% Critical Chance\n+3 Red Bee Attack\n+Passive: Focus Pulser"},"Strange Goggles":{"Stats":[["Strange Goggles",1]],"Name":"Strange Goggles","Category":"Accessory/Bag","ID":"Strange Goggles","Price":77,"Ingredients":[["Micro-Converter",1],["7ProngedCog",7]],"Description":"This futuristic looking headset doesn't seem to do very much...\n\n[Hat]\n+77 Capacity\n+7% Defense"},"Beekeeper's Boots":{"Stats":[["Beekeeper's Boots",1]],"Name":"Beekeeper's Boots","Category":"Accessory/Bag","ID":"Beekeeper's Boots","Price":15000000,"Ingredients":[["Oil",5],["BlueExtract",3],["RedExtract",3]],"Description":"Practical and stylish boots that aid in the beekeeping process.\n\n[Boots]\n+25% Bee Gather Pollen\n+1 Bee Attack\n+6 Player Movespeed\n+20 Jump Power\n+10 Movement Collection"},"Gummy Boots":{"Stats":[["Gummy Boots",1]],"Name":"Gummy Boots","Category":"Accessory/Bag","ID":"Gummy Boots","Price":100000000000,"Ingredients":[["Glue",500],["RedExtract",250],["BlueExtract",250],["Glitter",250],["SatisfyingVial",1],["MotivatingVial",1]],"Description":"Squishy boots that leave a trail of Goo wherever you go.\n\n[Boots]\n+25% Goo\n+20% Pollen\n+50% Honey From Tokens\n+3 Bee Attack\n+9 Player Movespeed\n+22 Jump Power\n+16 Movement Collection\n+Passive: Coconut Haste\n+Passive: Goo Trail"},"Mondo Belt Bag":{"Stats":[["Mondo Belt Bag",1]],"Name":"Mondo Belt Bag","Category":"Accessory/Bag","ID":"Mondo Belt Bag","Price":12400000,"Ingredients":[["SoftWax",1],["Pineapple",150],["SunflowerSeed",150],["Stinger",10]],"Description":"A highly-embelished Belt Bag imported from a far away land.\n\n[Belt]\n+100,000 Capacity\n+50 Convert Amount\n+75% Loot Luck\n+10% Buzz Bomb Pollen\n+1 Colorless Bee Attack"},"Blue Guard":{"Stats":[["Blue Guard",1]],"Name":"Blue Guard","Category":"Accessory/Bag","ID":"Blue Guard","Price":1000000,"Ingredients":[["Blueberry",50],["RoyalJelly",1],["MoonCharm",3]],"Description":"A durable pad worn on the right shoulder of Blue Beekeepers.\n\n[Right Shoulder]\n+25,000 Capacity\n+15% Blue Pollen\n+5% Defense\n+1 Blue Bee Attack"},"Compressor":{"Stats":[["Compressor",1]],"Name":"Compressor","Category":"Accessory/Bag","ID":"Compressor","Price":160000,"Ingredients":[],"Description":"A machine which packs pollen to increase space.\n\n[Container]\n+50,000 Capacity\n+55% Convert Rate"},"Fire Mask":{"Stats":[["Fire Mask",1]],"Name":"Fire Mask","Category":"Accessory/Bag","ID":"Fire Mask","Price":100000000,"Ingredients":[["Strawberry",500],["RedExtract",50],["Enzymes",25],["Glue",15]],"Description":"Ignite your mind to enhance your Red bees.\n\n[Hat]\nx1.5 Red Pollen\nx1.5 Capacity\n+15% Instant Red Conversion\n+50% Instant Flame Conversion\n+15% Bee Attack\n+35% Defense\n+15% Bee Ability Rate\n+Passive: Ignite"}},"Collectors":{"Pulsar":{"Stats":[],"Name":"Pulsar","Category":"Tool","ID":"Pulsar","Price":125000,"Ingredients":[],"Description":"Collects 2 pollen from 29 surrounding patches in 1 second."},"Honey Hammer":{"Stats":[],"Name":"Honey Hammer","Category":"Tool","ID":"Honey Hammer","Price":null,"Ingredients":[],"Description":"Collects 10 pollen from 26 patches in 1 second and boosts it by 25%.\n\nEvery 6th scoop slams a HUGE area, collecting massive amounts!\n\nBees hit will instantly convert pollen."},"Scissors":{"Stats":[],"Name":"Scissors","Category":"Tool","ID":"Scissors","Price":850000,"Ingredients":[],"Description":"Collects ALL pollen from patch in front of you in 0.5 seconds."},"Golden Rake":{"Stats":[],"Name":"Golden Rake","Category":"Tool","ID":"Golden Rake","Price":20000000,"Ingredients":[],"Description":"Collects 7 pollen from 4 lines of 4 patches in 0.6 seconds.\n\nEvery 5th scoop is supercharged to reach farther and collect more!"},"Momentum Magnet":{"Stats":[],"Name":"Momentum Magnet","Category":"Tool","ID":"Momentum Magnet","Price":35000000,"Ingredients":[],"Description":"Collects 6 pollen from 9 surrounding patches in 0.5 seconds. Each scoop boosts pollen from collectors by 5% for 30 seconds."},"Sticker-Seeker":{"Stats":[],"Name":"Sticker-Seeker","Category":"Tool","ID":"Sticker-Seeker","Price":7000000,"Ingredients":[["Glue",1],["Oil",1],["SoftWax",5],["Neonberry",5],["Micro-Converter",10]],"Description":"Collects 10 pollen from 13 patches in 1 second. Has a chance to find Stickers in fields, and unlocks the Sticker-Seeker quests!"},"Porcelain Dipper":{"Stats":[],"Name":"Porcelain Dipper","Category":"Tool","ID":"Porcelain Dipper","Price":150000000,"Ingredients":[],"Description":"Collects 3 pollen from 49 patches in 0.7s, increasing white pollen by 50%.\n\nEvery 10th scoop summons a pillar of light that collects massive pollen!"},"Dark Scythe":{"Stats":[],"Name":"Dark Scythe","Category":"Tool","ID":"Dark Scythe","Price":2500000000000,"Ingredients":[["RedExtract",1500],["Stinger",150],["HardWax",100],["CausticWax",50],["SuperSmoothie",50],["InvigoratingVial",3]],"Description":"Harvest flames to unlock their Dark potential. Tend a violent field of violet fire to enhance your Super-Crit power and Red Ability Conversion."},"Tide Popper":{"Stats":[],"Name":"Tide Popper","Category":"Tool","ID":"Tide Popper","Price":2500000000000,"Ingredients":[["BlueExtract",1500],["Stinger",150],["TropicalDrink",150],["SwirledWax",75],["SuperSmoothie",50],["ComfortingVial",3]],"Description":"Pierce through flowers and bubbles with torrential waves. Ramps up the more you pop, then unleashes tidal waves in a violent surge. Splash Balloons with tall waves to earn Tide Blessing."},"Scooper":{"Stats":[],"Name":"Scooper","Category":"Tool","ID":"Scooper","Price":0,"Ingredients":[],"Description":"Collects 2 pollen from 2 patches in front of you in 0.8 seconds."},"Spark Staff":{"Stats":[],"Name":"Spark Staff","Category":"Tool","ID":"Spark Staff","Price":60000000,"Ingredients":[],"Description":"Collects ALL pollen from the 3 tallest nearby flowers in 0.5 seconds and increases it by 20%."},"ClassicSword":{"Stats":[],"Name":"ClassicSword","Category":"Tool","ID":"ClassicSword","Price":null,"Ingredients":[],"Description":"Collects 7 pollen from a line 7 patches in 0.47 seconds. Collects x2 from Red flowers. Every 20th swing spawns a Flame."},"Super-Scooper":{"Stats":[],"Name":"Super-Scooper","Category":"Tool","ID":"Super-Scooper","Price":40000,"Ingredients":[],"Description":"Collects 4 pollen from the 5 patches in front of you in 0.5 seconds."},"Honey Dipper":{"Stats":[],"Name":"Honey Dipper","Category":"Tool","ID":"Honey Dipper","Price":1500000,"Ingredients":[],"Description":"Collects 2 pollen from 49 surrounding patches in 0.9 seconds."},"Rake":{"Stats":[],"Name":"Rake","Category":"Tool","ID":"Rake","Price":800,"Ingredients":[],"Description":"Collects 2 pollen from 3 patches in front of you in 0.7 seconds."},"Bubble Wand":{"Stats":[],"Name":"Bubble Wand","Category":"Tool","ID":"Bubble Wand","Price":3500000,"Ingredients":[],"Description":"Collects 6 pollen from 16 patches in 0.75 seconds. Collects x2 from Blue flowers. Every 10th swing spawns a Bubble somewhere on the field."},"Petal Wand":{"Stats":[],"Name":"Petal Wand","Category":"Tool","ID":"Petal Wand","Price":1500000000,"Ingredients":[["SpiritPetal",1],["StarJelly",10],["Glitter",25],["Enzymes",75]],"Description":"Collects 6 pollen from 37 patches in 0.7s and boosts it by 100%.\n\nEvery 3rd swing fires a Petal Shuriken that causes bees to instantly convert pollen!"},"Clippers":{"Stats":[],"Name":"Clippers","Category":"Tool","ID":"Clippers","Price":2200,"Ingredients":[],"Description":"Collects 9 pollen from the patch in front of you in 0.6 seconds."},"Scythe":{"Stats":[],"Name":"Scythe","Category":"Tool","ID":"Scythe","Price":3500000,"Ingredients":[],"Description":"Collects 7 pollen from a line 7 patches in 0.47 seconds. Collects x2 from Red flowers. Every 20th swing spawns a Flame."},"ClassicIllumina":{"Stats":[],"Name":"ClassicIllumina","Category":"Tool","ID":"ClassicIllumina","Price":null,"Ingredients":[],"Description":"Collects 7 pollen from a line 7 patches in 0.47 seconds. Collects x2 from Red flowers. Every 20th swing spawns a Flame."},"Vacuum":{"Stats":[],"Name":"Vacuum","Category":"Tool","ID":"Vacuum","Price":14000,"Ingredients":[],"Description":"Collects 2 pollen from 13 surrounding patches in 0.8 second."},"Electro-Magnet":{"Stats":[],"Name":"Electro-Magnet","Category":"Tool","ID":"Electro-Magnet","Price":300000,"Ingredients":[],"Description":"Collects 4 pollen from 9 surrounding patches in 0.5 seconds."},"Gummyballer":{"Stats":[],"Name":"Gummyballer","Category":"Tool","ID":"Gummyballer","Price":10000000000000,"Ingredients":[["Glue",1500],["Gumdrops",2000],["CausticWax",50],["SuperSmoothie",50],["Turpentine",5],["SatisfyingVial",3]],"Description":"Conjures up a delectable arsenal of gummy wrecking balls. Bombard Marks and Honey Tokens for massive gooey gains."},"ClassicFirebrand":{"Stats":[],"Name":"ClassicFirebrand","Category":"Tool","ID":"ClassicFirebrand","Price":null,"Ingredients":[],"Description":"Collects 7 pollen from a line 7 patches in 0.47 seconds. Collects x2 from Red flowers. Every 20th swing spawns a Flame."},"Bow Rake":{"Stats":[],"Name":"Bow Rake","Category":"Tool","ID":"Bow Rake","Price":12000000,"Ingredients":[],"Description":"Collects 6 pollen from 4 lines of 8 patches in 0.7 seconds. Every 5th scoop reaches much farther."},"Elite Scythe":{"Stats":[],"Name":"Elite Scythe","Category":"Tool","ID":"Elite Scythe","Price":3500000,"Ingredients":[],"Description":"Collects 8 pollen from a line 8 patches in 0.45 seconds, greatly enhanced on red flowers.\n\nEvery 12th swing creates pillars of fire that collect pollen and damage enemies!"},"Magnet":{"Stats":[],"Name":"Magnet","Category":"Tool","ID":"Magnet","Price":5500,"Ingredients":[],"Description":"Collects 2 pollen from 9 surrounding patches in 0.8 seconds."}}}
]]
-- ==============================================================================

local ToolDB = HttpService:JSONDecode(RawJson)

-- =======================================================
-- HÀM LẤY SỐ LƯỢNG (TỪ SCRIPT CŨ)
-- =======================================================
function module.GetItemAmount(itemName)
    local inventory = LocalPlayer:FindFirstChild("b") 
    local eggs = LocalPlayer:FindFirstChild("EggStats") 
    
    if inventory then
        local item = inventory:FindFirstChild(itemName)
        if item then return item.Value end
    end
    if eggs then
        local egg = eggs:FindFirstChild(itemName)
        if egg then return egg.Value end
    end
    return 0 
end

function module.GetHoney()
    if LocalPlayer:FindFirstChild("CoreStats") and LocalPlayer.CoreStats:FindFirstChild("Honey") then
        return LocalPlayer.CoreStats.Honey.Value
    end
    return 0
end

-- =======================================================
-- HÀM TÌM DỮ LIỆU TRONG DB (TỰ ĐỘNG)
-- =======================================================
local function FindItemData(itemName)
    -- Tìm trong Accessories
    if ToolDB.Accessories[itemName] then 
        return ToolDB.Accessories[itemName] 
    end
    -- Tìm trong Collectors
    if ToolDB.Collectors[itemName] then 
        return ToolDB.Collectors[itemName] 
    end
    return nil
end

-- =======================================================
-- HÀM KIỂM TRA MUA ĐƯỢC KHÔNG (CHỈ CẦN TÊN ITEM)
-- =======================================================
function module.CheckBuy(itemName, LogFunc)
    -- 1. Tìm thông tin trong JSON
    local data = FindItemData(itemName)
    
    if not data then
        if LogFunc then LogFunc("❌ Lỗi: Không tìm thấy item '" .. itemName .. "' trong dữ liệu.", Color3.fromRGB(255, 0, 0)) end
        return false
    end
    
    -- 2. Lấy giá tiền và nguyên liệu từ JSON
    local price = data.Price or 0
    local ingredients = data.Ingredients or {}
    
    -- 3. Check Tiền
    local myHoney = module.GetHoney()
    if myHoney < price then
        if LogFunc then LogFunc("❌ Thiếu Honey cho " .. itemName .. ": Cần " .. price .. " | Có " .. myHoney, Color3.fromRGB(255, 80, 80)) end
        return false
    end

    -- 4. Check Nguyên Liệu (Tự động duyệt qua list trong JSON)
    for _, req in pairs(ingredients) do
        local matName = req[1]      -- Tên nguyên liệu (VD: Glue)
        local matNeed = req[2]      -- Số lượng cần (VD: 5)
        local matHave = module.GetItemAmount(matName)

        if matHave < matNeed then
            if LogFunc then 
                LogFunc("❌ Thiếu: " .. matName .. " (" .. matHave .. "/" .. matNeed .. ")", Color3.fromRGB(255, 80, 80)) 
            end
            return false
        end
    end
    
    -- Đủ hết
    if LogFunc then LogFunc("✅ Đủ điều kiện mua: " .. itemName, Color3.fromRGB(0, 255, 0)) end
    return true
end

return module
